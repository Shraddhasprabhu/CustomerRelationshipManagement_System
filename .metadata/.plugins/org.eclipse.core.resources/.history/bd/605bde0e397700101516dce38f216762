
	package com.example.crm.service;

	import com.example.crm.dao.SalesRepository;
	import com.example.crm.entities.Sales;
	import org.springframework.beans.factory.annotation.Autowired;
	import org.springframework.stereotype.Service;

	import java.util.List;
	import java.util.Optional;

	@Service
	public class SalesService {

	    @Autowired
	    private SalesRepository salesRepository;

	    // Add new sale
	    public Sales addSale(Sales sale) {
	        return salesRepository.save(sale);
	    }

	    // Retrieve all sales
	    public List<Sales> getAllSales() {
	        return salesRepository.findAll();
	    }

	    // Retrieve sale by ID
	    public Sales getSaleById(Long id) {
	        Optional<Sales> sale = salesRepository.findById(id);
	        return sale.orElse(null);
	    }

	    // Update sale
	    public Sales updateSale(Long id, Sales updatedSale) {
	        Optional<Sales> existingSaleOptional = salesRepository.findById(id);
	        if (existingSaleOptional.isPresent()) {
	            Sales existingSale = existingSaleOptional.get();
	            existingSale.setAmount(updatedSale.getAmount());
	            existingSale.setSaleDate(updatedSale.getSaleDate());
	            existingSale.setProductName(updatedSale.getProductName());
	            existingSale.setCustomer(updatedSale.getCustomer());
	            return salesRepository.save(existingSale);
	        } else {
	            System.out.println("Sale not found with ID: " + id);
	            return null;
	        }
	    }

	    // Delete sale
	    public void deleteSale(Long id) {
	        salesRepository.deleteById(id);
	    }
	}


